{{ define "main" }}
<div class="flex flex-row items-start justify-between">
    {{ partial "prompts/JapPromptText" . }}

    <article id="main-content" class="pt-20 prose lg:prose-xl xl:prose-2xl mx-auto py-4 px-2 min-h-svh overflow-hidden text-wrap" tabindex="-1">
        <header>
            <h1>{{ .Title }}</h1>

            {{ $currentPage := trim .RelPermalink "/" }}
            {{ $promptGuideURL := "/prompt-engineering/prompt-guide/" | relURL }}
            {{ $promptGuideLink := printf `<a class="block mt-2 max-w-fit" href="%s">Visit here first if you need help.</a>` ($promptGuideURL | absURL) }}

            <a class="block font-japanese no-underline rounded text-red-700 p-3 mb-4 transition-colors duration-200 ease-in-out" href="{{ "/prompt-engineering/" | relURL }}">
                <i class="fa-solid fa-hand-point-left mr-2" aria-hidden="true"></i>戻る
            </a>

            {{ if ne $currentPage (trim $promptGuideURL "/") }}
                {{ $promptGuideLink | safeHTML }}
            {{ end }}
        </header>

        <section>{{ .Content }}</section>
    </article>

    <aside class="hidden lg:block lg:w-1/4 sticky top-20 z-10">
        <div class="font-extralight text-sm prose-ul:list-decimal prose-ul:list-inside prose-ul:underline">
            {{ .TableOfContents }}
        </div>
    </aside>
</div>

{{ end }}



